<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<th:block th:include="~{/fragments/head.html}"/>
<body class="d-flex flex-column min-vh-100">
<header th:include="~{/fragments/nav-and-footer/nav}"/>

<div class="container mt-5">
    <h1 th:text="${book.getTitle()}"></h1>
    <h3 th:text="${book.getAuthor()}"></h3>
    <div>
        <h3>Comments: <th:block th:text="${reviews.size()}"/></h3>
    </div>

    <ul>
        <li th:each="r: ${reviews}" class='col-sm-8 col-md-8'>
            <h5 th:text="${r.getUserEmail()}"></h5>
            <div class='row'>

                  <p th:text="${r.getDate()}" ></p>

                <div id="starsReview"></div>
            </div>
            <div class='mt-2'>
                <p th:text="${r.getComment()}"></p>
            </div>
        </li>
        <hr/>
    </ul>

</div>


<th:block th:include="~{/fragments/nav-and-footer/footer}"/>
<!--<script type="text/javascript" src="/js/fetchBook.js"></script>-->
<script type="text/javascript" src="/js/fetchReviews.js"></script>
<script type="text/javascript" src="/js/renderReviews.js"></script>

<script>
  renderData();  // Извикване на функцията за показване на данни
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>
</html>