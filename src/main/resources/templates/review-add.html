<!DOCTYPE html>
<html lang="en"
                     xmlns:th="http://www.thymeleaf.org">
<th:block th:include="~{/fragments/head.html}"/>
<body class="d-flex flex-column min-vh-100">
<header th:include="~{/fragments/nav-and-footer/nav}"/>
<div class="mt-5">
<h2 class="text-center">Leave A Review</h2>
</div>
<div class="container card mt-5 p-4 col-6 shadow bg-body py-4">
  <h1 th:if="${reviewLeft}" class="shadow text-center p-2" style="color: #0e76a8">You've already rated this book!</h1>
<form th:if="${reviewLeft == false}"
th:action="@{/reviews/leave/{id}(id = ${bookId})}"
      th:method="POST"
      th:object="${leaveReviewDTO}"
>
<!--  <label for="submitReviewRating">Leave a review</label>-->
<select th:field="*{rating}"
        th:errorclass="'is-invalid alert-danger'"
        id='submitReviewRating' class='form-select'>
  <option value="" selected>Review</option>
  <option value="1">1 star</option>
  <option value="2">2 star</option>
  <option value="3">3 star</option>
  <option value="4">4 star</option>
  <option value="5">5 star</option>
</select>
  <small class="invalid-feedback text-danger">Please choose rating!</small>

  <div>
    <hr/>
    <div class='mb-3'>
      <label class='form-label'>
        Comment
      </label>
      <textarea th:field="*{comment}" class='form-control' id='submitReviewDescription' placeholder='Optional' rows="3"></textarea>
    </div>

    <div class=" d-flex justify-content-center">
      <button type='submit'  class='btn btn-success mt-3 main-color'>Submit Review</button>
    </div>
  </div>
</form>
</div>
<th:block th:include="~{/fragments/nav-and-footer/footer}"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>