<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<th:block th:include="~{/fragments/head.html}"/>
<body class="d-flex flex-column min-vh-100">
<header th:include="~{/fragments/nav-and-footer/nav}"/>



        <!--                History-->

<h5>User: <th:block th:text="${userEmail}"/></h5>
<div class='mt-2'>
          <div th:if="${checkouts.size() > 0}">

            <h4 class="text-center">Checkouts:</h4>


            <div class="d-flex flex-column align-items-center" th:each="c: ${checkouts}">
              <div class='card mt-3 shadow p-3 mb-3 bg-body rounded col-10'>
                <div class='row g-0'>
                  <div class='col-md-2'>
                    <div class='d-none d-lg-block'>
                      <img th:src="${c.getBook().getImage()}"  width='123' height='196' alt='Book' />
                    </div>
                    <div class='d-lg-none d-flex justify-content-center align-items-center'>
                      <img th:src="${c.getBook().getImage()}" width='123' height='196' alt='Book' />
                    </div>
                  </div>
                  <div class='col'>
                    <div class='card-body'>
                      <h5 class='card-title'><th:block th:text="${c.getBook().getAuthor()}"/></h5>
                      <h4><th:block th:text="${c.getBook().getTitle()}"/></h4>
                      <hr/>
                      <p class='card-text'> Checked out on: <th:block th:text="${c.getCheckoutDate()}"/></p>
                      <p class='card-text'> Return on: <th:block th:text="${c.getReturnDate()}"/></p>
                      <p class='card-text text-secondary' th:if="${c.getDaysLeft() > 0}">
                        Due in <th:block th:text="${c.getDaysLeft()}"/> days.
                      </p>
                      <p class='card-text text-success' th:if="${c.getDaysLeft() == 0}">
                        Due Today.
                      </p>
                      <p class='card-text text-danger' th:if="${c.getDaysLeft() < 0}">
                        Past due by <th:block th:text="${c.getDaysLeft()}"/> days.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div th:if="${checkouts.size() == 0}">
            <h3 class='mt-3 mb-4'>Currently no checkouts: </h3>
          </div>

        </div>




<th:block th:include="~{/fragments/nav-and-footer/footer}"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>
</html>