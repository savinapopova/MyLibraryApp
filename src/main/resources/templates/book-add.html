<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<th:block th:include="~{/fragments/head.html}"/>

<body class="d-flex flex-column min-vh-100">
<header th:include="~{/fragments/nav-and-footer/nav}"/>

<div class='container mt-5 mb-5'>

    <h2>Add new book</h2>

    <form th:action="@{/admin/book/add}"
          th:method="POST"
          th:object="${addBookDTO}"
          class="mt-4"
    >

    <div th:if="${sentSuccess}" class='alert alert-success' role='alert'>
        Book added successfully
    </div>


    <div th:if="${#fields.hasErrors()}" class='alert alert-danger' role='alert'>
        All fields must be filled out
    </div>

    <div class='card shadow bg-body rounded'>

        <div class='card-body'>

                <div class='row'>
                    <div class='col-md-6 mb-3'>
                        <label class='form-label'>Title</label>
                        <input th:field="*{title}"
                                type="text" class='form-control' name='title'/>
                    </div>
                    <div class='col-md-3 mb-3'>
                        <label class='form-label'> Author </label>
                        <input th:field="*{author}"
                                type="text" class='form-control' name='author'/>
                    </div>
                    <div class='col-md-3 mb-3'>
                        <label class='form-label'>Category</label>
                        <select th:field="*{category}"
                                id='addNewBook' class='form-select' name="category">
                            <option value="" selected></option>
                            <option value="Biography">Biography</option>
                            <option value="Cookbook">Cookbook</option>
                            <option value="Fantasy">Fantasy</option>
                            <option value="Education">Education</option>
                            <option value="Children">Children</option>
                        </select>
                    </div>
                </div>
                <div class='col-md-12 mb-3'>
                    <label class='form-label'>Description</label>
                    <textarea th:field="*{description}"
                            class='form-control' id='exampleFormControlTextarea1' rows="3"></textarea>
                </div>

                  <div class='col-md-3 mb-3'>
                    <label class='form-label'>Copies</label>
                    <input th:field="*{copies}"
                            type='number' class='form-control' name='copies'/>
                  </div>
                    <div class='col-md-3 mb-3'>
                        <label class='form-label'>Image URL</label>
                        <input th:field="*{image}"
                                type="text" class='form-control' name='image'/>
                    </div>

                    <button type='submit' class='btn text-white main-color mt-3'>
                        Add Book
                    </button>


        </div>
    </div>
    </form>
</div>

<th:block th:include="~{/fragments/nav-and-footer/footer}"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>